### 클로저

- 정의 : 함수가 선언될 때의 렉시컬 스코프(=환경)를 기억하고, 그 스코프(=환경)에 있는 변수에 접근할 수 있는 함수
- 콜스택에서 콘텍스트가 제거가 되면, 존재하지 않는 콘텍스트가 되어야 하는데, 함수 자체가 호출이 되고 함수 안에 변수를 계속 써야하는 상황이면 가비지 컬렉션이 수행되지 않고 함수콘텍스트가 남게 됨.
- 이 관계가 완전히 끝나야지 함수 콘텍스트가 사라지고 가비지 컬렉션이 됨(그 전까지는 안 사라짐)
- 이렇게 클로저를 쓰면 전역에 변수가 선언된 게 아니라서 아무나 접근을 못 하기 때문에 다른 사람들이 값을 바꿀 수 없음(해킹?)

##### 클로저 특징

1. 데이터 은닉 - 외부에서 데이터에 직접 접근할 수 없다.
2. 상태 유지 - 함수 호출 간 변수를 계속 기억

##### 사용 후 가비지 컬렉터를 실행할 수 있는 방법(메모리 누수를 막기 위한)

- 클로저를 받았던 변수에 null를 넣으면 가비지 컬렉터가 실행됨
- 클로저를 쓰면 이건 반드시 존재해야 함
- null 대신 undefined로 대신 써도 됨

##### 메모이제이션 패턴

- 똑같은 값이 재할당 됐을 때, 또 연산을 수행하는 것이 아니라 메모리에 있던 값을 바로 다시 꺼내오는 것
