### 콜백함수

- 콜백 : 나중에 불려지다 + 함수 : 어떤 코드의 실행 집합
- 나중에 불려질 함수, 다른 함수의 인자로 전달되어 그 함수 내부에서 호출되는 함수
- 비동기, 동기를 할 수 있게 해줌

---

### Promise 객체(ES6)

- 비동기 작업을 처리할 때 사용할 수 있는 메커니즘
- ES6 이전에는 비동기 작업을 처리하는 방법으로 콜백 함수 밖에 없었음
- 콜백 함수는 콜백이 중첩되면 코드가 복잡해지고 가독성이 떨어지는(콜백 지옥) 패턴이 생기게 됨

##### Promise 객체 내에 있는 것 그리고 관한 것

- prototype
- promiseState: pending(작업이 실행중), fulfilled(작업이 완료되었다), reject (작업이 실패되었다) 이런 게 나오는 것
- Promiseresolve : resolve에 들어가는 내용이 들어감

```
resolve("text")l
// 여기서는 text가 resolve
```

- .catch를 이용해서 reject를 표현함(실무에서 이걸 많이 씀)
- .then은 연속으로 쓸 수 있음
- promise 생성자 객체 뒤에 끝날 때마다 catch를 붙여놓고 return 0 하면 error가 실제로 생길 때 나타나지 않고 0이 출력됨
- .finally : 모든 게 다 끝났을 때 쓰는 것(마지막에), 모든 then이 다 끝나면 추가적으로 실행되는 것

##### fetch

- fetch는 promise객체를 return 하게 되어있음, 그 반환된 promise 객체는 많은 속성들이 담겨있음, 거기서 정보들을 빼오도록 가공을 할 떄 쓰는 게 변수.json()임, 한마디로 json 형식으로 파싱해서 javascript 자료형으로 변환함
- 비동기 매커니즘이 있고, promise 객체가 잘 들어가 있는 애임
- 얘도 .then으로 핸들링 가능, api를 받는 것
- 얘를 이용해서 웹에서 정보 받아오는 느낌
- 도메인을 틀리면 객체 자체가 에러로 넘어오지를 않고, 끝 부분의 주소를 틀리면 객체는 넘어오지만 res.ok가 false로 바뀌고 정보는 안 넘어옴

---

### async, await

- async 함수는 항상 Promise 객체를 return 한다
- 사용방법이 Promise 객체와 밀접하게 연관되어 있음
- await 단독사용 불가, async 내에서만 쓸 수 있음
- try, catch 블록으로 에러를 잡을 수 있음
- async-await fetch 기반으로도 가능

##### 메서드

- .all를 이용해서 한번에 보여줄 수 있는 방법도 있음
  - 중간에 에러가 나면 .all 작업은 모두 캔슬이 됨
  - 그래서 .allSettled를 사용하면 성공한 애들만 나옴
- .race 는 모아놓은 비동기 애들 중에서 가장 빠른 걸 하나 얻고 싶을 때 쓰면 나옴
