## 이벤트

- 브라우저에서 발생하는 사용자 상호 작용을 의미

### 이벤트 주요 구성 요소

- 이벤트 타겟, 이벤트 타입, 이벤트 핸들러

### 이벤트 등록과 해제

- addEventListener(이벤트타입, 이벤트핸들러,옵션(객체))
- removeEventListener(이벤트타입, 이벤트핸들러)

### 이벤트 속성

- 요즘은 mouseout 보다는 mouseenter, mouseover 보다는 mouseleave를 써야 한다, mouseenter는 특정 문서에 들어갈 때, leave는 빠져나갈 때

### 콜백함수는 일반 함수와 화살표 함수 무엇을 써야 할까?

- 화살표 함수에서 this는 window 객체가 나오고, 일반 함수는 html 요소가 나옴
- 그래서 this를 쓰는 경우에 요소를 바꾸는 작업을 하고 싶다면 무조건 일반 함수를 써야 함
- 하지만 this를 쓰지 않는 경우이면 그냥 화살표 함수를 써도 됨

### 인라인 이벤트(on[이벤트타입])

- 요소 뒤에 예로 onclick="alert("경고")" 이런 식으로 쓸 수 있다
- 바닐라JS에는 권장X, 하지만 react에서는 많이 쓰이는 구조

### 이벤트 전파

- 이벤트가 발생했을 때 이벤트가 전달되는 현상

#### 이벤트 전파의 단계

- 캡처링 단계 -> 이벤트가 이벤트 타겟까지 내려가면서 전달되는 현상
  (캡처링은 의도하지 않는 이상 관찰할 수 없음)
- 타깃 단계 -> 실제 이벤트가 발생하는 단계

- 버블링 단계 -> 타깃 요소로부터 시작해 상위로 올라가면서 전달되는 단계

- 버블링 차단하는 법 : 콜백함수에서 매개변수로 e를 받고 e.stopPropagation() 를 하면 됨
  - e는 그 요소에 대한 정보들을 넘겨받은 정보같은 거임

### 이벤트 위임

- 새롭게 추가된 요소들은 기존에 있던 코드에 영향을 받지 않아서 새로 추가하면 영향을 받지 않음
- 그래서 버블로 위임을 만들어서 영향을 받도록 해줌
- 부모요소에 클릭 이벤트를 걸고 내부에서 발생하게 되면 그걸 캐치해서 태그네임을 체크하고 같은 게 맞으면 적절한 동작이 수행하게 한다

#### 기본 동작 취소

- e.preventDefault() 를 주면 기본동작(이벤트) 자체를 중지시키게 해줌
- 예를 들어서 <a href></a> 같은 것도 기본적으로 클릭 이벤트가 들어가 있는데 e.preventDefault() 를 주면 더 이상 되지 않음

## 태스크 큐, 마이크로 태스크 큐

- Promise가 먼저 사용되든, 나중에 사용되든 무조건 setTimeout보다 빠르게 실행됨(이러한 동작 이해하는데 필요한 게 저 2개의 큐)
- setTimeout은 실행되면 콜스택에서 함수 실행컨텍스트가 만들어지면 이 실행 컨텍스트는 이후에 어디로 갈까?

  1. 실행컨텍스트는 웹 브라우저로 이동하게 된다
  2. 그 이후에 end(마지막) console를 실행하러 간다
  3. 웹 브라우저로 간 애들은 자바 콜스택이 비워질 때까지 태스크 큐 or 마이크로 태스크 큐로 가서 대기하게 됨

     (기준이 있음 : Pomise는 마이크로 태스크 큐, setTimeout은 태스크 큐로)

  4. 그 후 이벤트 루프가 마이크로 태스크 큐, 태스크 큐 순으로 다시 자바 콜스택으로 보내서 작업을 하게 된다

#### 각각 들어가는 곳

- 태스크 큐 : setTimeout, setInterval, setImmediate, DOM 이벤트 콜백, fetch().then
- 마이크로 태스크 큐 : Promise.then, catch,finally, MutationObserver

## history

- 브라우저의 세션 기록(뒤로가기, 앞으로 가기, 주소 ) 등을 제어할 수 있게 해주는 API

#### SPA(Single Page Application)

- length -> 브라우저에서 관리하고 있는 히스토리 갯수
- .back() -> 뒤로가기
- .forward() -> 앞으로 가기
- .go(n) -> n 만큼 이동하기(양수 = 앞으로, 음수 = 뒤로)
  .pushState(state, title, url) -> 페이지 이동시키는 능력은 없음, 내가 가지는 히스토리만 조작하는 것, 뒤로가기 가능
- 보통 상태(state)는 객체로
  replaceState(state, title, url) -> 현재 히스토리를 조작하는 것, 뒤로가기 불가능

## 모듈

- 파일 단위로 기능을 나누고 가져다 쓰기 위한 코드 묶음

#### 3가지 방법

- 첫 번쨰와 두 번째 방법은 중괄호로 내보낸 걸 불러와야 됨 import {sum,multiple}과 같이
  - 대신 이름을 똑같이 해서 받던가 아니면 {multiple as s} 와 같이 as를 써야 함
- 첫 번째 방법

  ```
  export function sum(a, b) {
    return a + b;
  }

  export function multiple(a, b) {
    return a * b;
  }
  ```

- 두 번째 방법

  ```
  function sum(a, b) {
    return a + b;
  }

  function multiple(a, b) {
    return a * b;
  }

  export { sum, multiple };
  ```

- 세 번째 방법
- 하나를 내보내는 방법
- 개별 내보내기는 불러올 때 중괄호 없이 하나를 불러옴
- 얘는 불러올 때 이름 마음대로 불러와도 됨

  ```
  export default sum;
  ```

### 그 외(기본상식처럼 그냥 알면 되는 것들)

- 자바스크립트는 느슨한 언어이다.
  - 장점 : 러닝커브(학습장벽) 낮추는 결정적인 역할을 한다
  - 단점 : 그만큼 코드에 허전이 많아짐
- 보완 방법
  - "use strict" : 느슨한 자바스크립트 코드에 엄격함을 부여해줌
- type : module 은 기본적으로 엄격함이 들어가 있다.
